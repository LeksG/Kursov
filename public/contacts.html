<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Контакти</title>
  <link rel="stylesheet" href="css/contacs.css">
</head>
<body>
  <header>
    <img src="logo/logo.webp">
    <a href="index.html"><h1>Найвідоміші музеї Полтавщини</h1></a>
  </header>
  <nav>
    <ul>
      <li><a href="about.html">Про сайт</a></li>
      <li><a href="gallery.html">Галерея картинок</a></li>
      <li><a href="news.html">Новини</a></li>
      <li><a href="contacts.html">Контакти</a></li>
    </ul>
  </nav>
  <main>
    <h2>Контактна інформація</h2>
    <p><strong>Адреса:</strong> вул. Соборності, 2, м. Полтава, Україна</p>
    <p><strong>Телефон:</strong> +38 (0532) 56-78-90</p>
    <p><strong>Email:</strong> museums@poltava.ua</p>

    <div class="map">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2586.7757980212814!2d34.56264447640117!3d49.58311797143958!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40d82f618b3d8d29%3A0x63ccc85b0a83178c!2z0YPQuy4g0KHQvtCx0L7RgNC90L7RgdGC0LgsIDIsINCf0L7Qu9GC0LDQstCwLCDQn9C-0LvRgtCw0LLRgdC60LDRjyDQvtCx0LvQsNGB0YLRjCwgMzYwMDA!5e0!3m2!1sru!2sua!4v1745161759249!5m2!1sru!2sua" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
    </div>

    <h3>Форма зворотного зв'язку</h3>
    <form id="contact-form">
      <input type="text" name="name" placeholder="Ваше ім'я" required>
      <input type="email" name="email" placeholder="Ваш Email" required>
      <textarea name="message" rows="2" placeholder="Ваше повідомлення" required></textarea>
      <button type="submit">Надіслати</button>
    </form>
    
    <script>
document.getElementById('contact-form').addEventListener('submit', async function (e) {
  e.preventDefault();

  const formData = new FormData(this);
  const data = Object.fromEntries(formData.entries());

  try {
    // Використовуємо відносний шлях для Vercel
    const res = await fetch('/api/messages', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data),
    });

    const result = await res.json(); // Якщо є повідомлення у відповіді сервера

    if (res.ok) {
      alert('✅ Повідомлення надіслано!');
      this.reset(); // Очистити форму після успіху
    } else {
      alert('❌ Помилка при надсиланні: ' + result.message || 'Невідома помилка');
    }
  } catch (err) {
    console.error('❌ Помилка fetch:', err);
    alert('❌ Помилка при зв’язку з сервером');
  }
});
    </script>
  </main>
  <footer>
    <p>&copy; 2025 Найвідоміші музеї Полтавщини. Всі права захищені.</p>
  </footer>
</body>
</html>
